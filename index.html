<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="icon" type="image/png" href="icon.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Available System</title>
    
    <!-- Meta tags para SEO -->
    <meta name="description" content="Brazilian plywood stock available - Quality wood products with international certifications for construction, packaging, and furniture industries">
    <meta name="keywords" content="plywood, brazilian wood, stock, construction materials, furniture, packaging">
    <meta name="author" content="Repinho Reflorestadora">
    
    <!-- Open Graph tags para redes sociais -->
    <meta property="og:title" content="Stock Available System - Repinho">
    <meta property="og:description" content="Brazilian plywood stock available with international certifications">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://stock.repinho.ind.br/">
    
    <!-- Preload de recursos cr√≠ticos -->
    <link rel="preload" href="inter-tight-font.css" as="style">
    <link rel="preload" href="styles.css" as="style">
    <link rel="preload" href="stock_data.json" as="fetch" crossorigin>
    
    <!-- CSS cr√≠tico (carregamento s√≠ncrono) -->
    <link rel="stylesheet" href="inter-tight-font.css">
    <link rel="stylesheet" href="styles.css">
    
    <!-- CSS n√£o cr√≠tico (carregamento ass√≠ncrono) -->
    <link rel="preload" href="styles_improved.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="styles_improved.css"></noscript>
    
    <!-- Cache headers via meta tags -->
    <meta http-equiv="Cache-Control" content="public, max-age=31536000">
    
    <!-- Inline CSS cr√≠tico para evitar FOUC -->
    <style>
        /* CSS cr√≠tico inline para renderiza√ß√£o inicial */
        body{margin:0;padding:0;font-family:Inter,sans-serif;background:#f8fafc}
        .header{background:#1e293b;color:#fff;padding:1rem 0}
        .hero-section{background:linear-gradient(135deg,#f1f5f9,#e2e8f0);padding:3rem 0;text-align:center}
        .hero-title{font-size:3rem;font-weight:700;color:#00B04F;margin-bottom:1rem}
        .loading{display:flex;justify-content:center;align-items:center;height:200px;font-size:1.2rem;color:#64748b}
    </style>
</head>

<body>
    <!-- HEADER -->
    <header class="header">
        <div class="header-content">
            <div class="logo-section">
                <img src="logo.png" alt="Repinho Logo" class="logo" loading="lazy">
                <h1 class="company-name"></h1>
            </div>
            <div class="header-info">
                <div class="info-item">
                    <span class="info-icon"></span>
                    <span></span>
                </div>
                <div class="info-item">
                    <span class="info-icon"></span>
                    <span class="info-text"></span>
                </div>
            </div>
            <div class="lang-switch">
                <button class="lang-flag" data-lang="en" title="English" style="background:none; border:none; cursor:pointer; margin-right:0.5rem;">
                    <img src="https://cdn.jsdelivr.net/gh/hjnilsson/country-flags/svg/us.svg" alt="EN" style="width:47px; height:30px; border-radius:6px; box-shadow:0 1px 2px #0002; object-fit:cover; vertical-align:middle;" loading="lazy">
                </button>
                <button class="lang-flag" data-lang="es" title="Espa√±ol" style="background:none; border:none; cursor:pointer;">
                    <img src="https://cdn.jsdelivr.net/gh/hjnilsson/country-flags/svg/es.svg" alt="ES" style="width:47px; height:30px; border-radius:6px; box-shadow:0 1px 2px #0002; object-fit:cover; vertical-align:middle;" loading="lazy">
                </button>
                <button id="open-cart-btn" class="cart-btn"
                    style="margin-left:1rem; padding:0.6rem 1rem; border-radius:8px; font-size:1rem; background:#00B04F; color:#fff; border:none; cursor:pointer;">
                    üõí <span id="cart-btn-text">List</span> <span id="cart-count">0</span>
                </button>
            </div>
        </div>
    </header>

    <!-- HERO AREA -->
    <section class="hero-section">
        <div class="hero-content">
            <h1 class="hero-title">Stock Available</h1>
            <!-- Data de upload ser√° injetada aqui pelo addon -->
        </div>
    </section>

    <!-- STATISTICS -->
    <section class="stats-section">
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-icon">üì¶</div>
                <div class="stat-number" id="total-products">0</div>
                <div class="stat-label">Products</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üå≤</div>
                <div class="stat-number" id="raw-materials">0</div>
                <div class="stat-label">Wood Species</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üìã</div>
                <div class="stat-number" id="certificates">0</div>
                <div class="stat-label">Certificates</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">‚≠ê</div>
                <div class="stat-number" id="grades">0</div>
                <div class="stat-label">Grades</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üìä</div>
                <div class="stat-number" id="total-crates">0</div>
                <div class="stat-label">Crates</div>
            </div>
        </div>
    </section>

    <!-- FILTERS -->
    <section class="filters-section">
        <div class="filters-container">
            <div class="filters-header">
                <h2 class="filters-title">Filters</h2>
                <button id="clear-filters" class="clear-filters-btn">Clear Filters</button>
            </div>
            <div class="filters-row">
                <div class="filter-group">
                    <label for="wood-type-filter">Wood Species</label>
                    <select id="wood-type-filter" class="filter-select">
                        <option value="">All</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="certificate-filter">Certificate</label>
                    <select id="certificate-filter" class="filter-select">
                        <option value="">All</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="grade-filter">Grade</label>
                    <select id="grade-filter" class="filter-select">
                        <option value="">All</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="thickness-filter">Thickness</label>
                    <select id="thickness-filter" class="filter-select">
                        <option value="">All</option>
                    </select>
                </div>
            </div>
        </div>
    </section>

    <!-- RESULTS -->
    <section class="results-section">
        <div class="results-container">
            <div class="results-header">
                <div class="results-count">
                    <span id="products-count">0</span> products found
                </div>
                <div class="view-controls">
                    <button id="grid-view-btn" class="view-btn active">Grid</button>
                    <button id="list-view-btn" class="view-btn">List</button>
                </div>
            </div>
        </div>
    </section>

    <!-- PRODUCTS -->
    <section class="products-section">
        <div id="products-container" class="products-container products-grid">
            <!-- Loading placeholder -->
            <div class="loading" id="loading-placeholder">
                <div>Loading products...</div>
            </div>
        </div>
    </section>

    <!-- PRODUCT DETAILS MODAL -->
    <div id="product-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title">Product Details</h2>
                <button id="modal-close" class="modal-close">&times;</button>
            </div>
            <div id="modal-body" class="modal-body">
                <!-- Content will be loaded dynamically -->
            </div>
        </div>
    </div>

    <!-- LIST MODAL -->
    <div id="cart-modal" class="cart-modal" style="display: none;">
        <div class="cart-modal-content">
            <div class="cart-modal-header">
                <h3 class="cart-modal-title">Interest List</h3>
                <button id="cart-modal-close" class="cart-modal-close">&times;</button>
            </div>
            <div id="cart-items-list" class="cart-items-list">
                <!-- List items will be loaded here -->
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-column">
                <h4></h4>
                <p>Brazilian plywood for construction, packaging, and furniture industries</p>
                <p>Quality wood products with international certifications</p>
                <p>Sustainable forestry practices and environmental compliance</p>
            </div>

            <div class="footer-column">
                <h4></h4>
                <div class="contact-info">
                    <p class="company-name">Repinho Reflorestadora Madeiras & Compensados</p>
                    <div class="contact-item">
                        <span class="contact-icon">üìû</span>
                        <span>+55 (42) 3629-8500</span>
                    </div>
                    <div class="contact-item">
                        <span class="contact-icon">‚úâÔ∏è</span>
                        <span>comercial01@repinho.ind.br</span>
                    </div>
                    <div class="contact-item">
                        <span class="contact-icon">üìç</span>
                        <span>Rua Ver.Sebasti√£o de Camargo Ribas n¬∫ 950<br>
                            Guarapuava, Paran√° - Brazil</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer-bottom">
            <p>¬© 2025 Repinho. All rights reserved.</p>
            <p>developed by commercial export</p>
        </div>
    </footer>

    <!-- Scripts com carregamento otimizado - REFER√äNCIAS CORRIGIDAS -->
    <script src="logistics.js" defer></script>
    <script src="lang.js" defer></script>
    <script src="script_improved.js" defer></script>
    <script src="stock-date-addon.min.js" defer></script>
    
    <!-- Service Worker para cache (opcional) -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                        console.log('SW registered: ', registration);
                    })
                    .catch(function(registrationError) {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
    </script>
</body>

</html>

